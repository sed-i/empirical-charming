# Copyright 2022 Canonical Ltd.
# See LICENSE file for licensing details.

type: charm
bases:
  - build-on:
      - name: "ubuntu"
        channel: "20.04"
    run-on:
      - name: "ubuntu"
        channel: "20.04"
parts:
  charm:
    charm-entrypoint: hook_printer
    override-build: |
      apt install -y cargo
      cargo build --release
      craftctl default
      cp $CRAFT_PART_BUILD/target/release/hook_printer $CRAFT_PART_INSTALL/
